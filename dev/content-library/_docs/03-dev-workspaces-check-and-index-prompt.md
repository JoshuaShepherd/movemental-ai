# Prompt 3: Dev Workspaces — Check & Index

**Audience:** Claude/Cursor agent  
**Purpose:** Periodically discover, check, and index all workspaces under `dev/` so there is a current catalog of what exists, what it contains, and how it connects to leaders and the content library.  
**Context:** Workspaces include `dev/content-library` (prompts, leader content, media manifests) and any other `dev/` subdirectories created for development, prototyping, or leader-specific work.

---

## Scope

1. **Discover** — List all workspaces (top-level directories) under `dev/`.
2. **Check** — Verify structure, key files, and completeness of each workspace.
3. **Index** — Build a master index documenting contents, purpose, and leader associations.
4. **Output** — Produce or update `dev/DEV-WORKSPACES-INDEX.md` as the single source of truth.

---

## Phase 1: Discovery

### 1.1 List All Dev Workspaces

Enumerate every top-level directory under `dev/`:

- `dev/content-library/` — Content library prompts and collected leader content
- `dev/[other-workspace]/` — Any additional workspaces (e.g. template-audit, leader-specific sandboxes)

### 1.2 Workspace Types to Expect

| Type | Example | Contents |
|------|---------|----------|
| **Content library** | `content-library` | Prompts, leader content indexes, scraped articles, JSON manifests |
| **Leader workspace** | `[leader-slug]-workspace` | Prototypes, drafts, leader-specific assets |
| **Template workspace** | `template-preview` | Template variants, A/B content |
| **Audit/analysis** | `content-audit` | Cross-leader analysis, gap reports |

Treat any `dev/*` directory as a workspace worthy of indexing.

---

## Phase 2: Check Each Workspace

### 2.1 Per-Workspace Checklist

For each workspace under `dev/`:

1. **Structure**
   - List directories and key files.
   - Note presence of `_docs/`, `README`, or `PROMPT.md`.
   - Identify leader-specific subdirectories (e.g. `[leader-slug]/`).

2. **Completeness**
   - If workspace follows a known pattern (e.g. content-library), verify expected structure exists.
   - Note missing or placeholder files.
   - Check for stale or orphaned content.

3. **Connections**
   - Which leaders does this workspace reference?
   - Links to `_docs/movement_leader_research/`, `html/[leader]/`, `public/media-library/`.
   - Dependencies on other workspaces or prompts.

4. **Status**
   - Active (recent updates, in use)
   - Stale (no recent updates, may need refresh)
   - Incomplete (expected content missing)

### 2.2 content-library Specific Checks

For `dev/content-library/`:

- **Prompts:** `_docs/01-*.md`, `_docs/02-*.md`, `_docs/03-*.md` present and current.
- **Leader subdirs:** `[leader-slug]/` with `CONTENT-INDEX.md`, `MEDIA-INDEX.md`, `metadata.json`, etc.
- **Articles/raw:** `[leader-slug]/articles/`, `[leader-slug]/books/`, `[leader-slug]/podcasts/` when populated.
- **Manifests:** `[leader-slug]-media-manifest.json`, prospective-writers JSON for seed script.

---

## Phase 3: Build the Index

### 3.1 Output File: `dev/DEV-WORKSPACES-INDEX.md`

Create or update this file at the dev root. Structure:

```markdown
# Dev Workspaces Index

**Last updated:** YYYY-MM-DD  
**Generated by:** Prompt 3 (dev-workspaces-check-and-index)

---

## Summary

| Workspace | Type | Leaders | Status | Last checked |
|-----------|------|---------|--------|--------------|
| content-library | Content library | [list or "all"] | Active | YYYY-MM-DD |

---

## Workspace Details

### dev/content-library/

**Purpose:** Prompts and collected content for movement leaders. Houses research/scrape prompts, content indexes, and media manifests.

**Structure:**
```
dev/content-library/
├── _docs/
│   ├── README.md
│   ├── 01-content-index-research-and-scrape-prompt.md
│   ├── 02-media-library-research-and-collect-prompt.md
│   └── 03-dev-workspaces-check-and-index-prompt.md
├── [leader-slug]/                    # Per-leader when populated
│   ├── _docs/
│   │   ├── [leader-slug]-CONTENT-INDEX.md
│   │   └── [leader-slug]-MEDIA-INDEX.md
│   ├── articles/
│   ├── books/
│   ├── podcasts/
│   ├── metadata.json
│   └── [leader-slug]-media-manifest.json
└── ...
```

**Leaders with content:** [dave-ferguson, brad-brisco, ...] or *None yet*

**Status:** [Active | Stale | Incomplete]

**Notes:** [Any gaps, next steps, or warnings]

---

### dev/[other-workspace]/

**Purpose:** ...

**Structure:** ...

**Leaders:** ...

**Status:** ...

---

## Cross-References

| Workspace | Links to |
|-----------|----------|
| content-library | `_docs/movement_leader_research/`, `html/[leader]/`, `public/media-library/`, `scripts/seed-write-content.ts` |

---

## Recommended Actions

- [ ] Action item 1
- [ ] Action item 2
```

### 3.2 JSON Manifest (Optional)

For tooling or automation, optionally produce `dev/DEV-WORKSPACES-MANIFEST.json`:

```json
{
  "last_updated": "YYYY-MM-DD",
  "workspaces": [
    {
      "path": "dev/content-library",
      "type": "content-library",
      "leaders": ["dave-ferguson"],
      "status": "active",
      "has_content_index": true,
      "has_media_index": false
    }
  ]
}
```

---

## Phase 4: When to Run

- **On demand** — When a user asks to "check dev workspaces" or "index dev".
- **After Prompt 1 or 2** — After adding leader content or media, re-index to reflect new `[leader-slug]/` dirs.
- **Periodically** — E.g. at start of a content-library session, to ensure index is current.

---

## Completion Checklist

- [ ] All `dev/*` directories discovered and listed.
- [ ] Each workspace checked for structure, completeness, and connections.
- [ ] `dev/DEV-WORKSPACES-INDEX.md` created or updated.
- [ ] Leader associations and status documented.
- [ ] Cross-references to `_docs/`, `html/`, `public/` noted.
- [ ] Recommended actions or gaps listed.
- [ ] Optional: `dev/DEV-WORKSPACES-MANIFEST.json` produced.

---

## Reference

- **Content library prompts:** `dev/content-library/_docs/01-*.md`, `02-*.md`
- **Leader research:** `_docs/movement_leader_research/`
- **HTML templates:** `html/[leader]/`
- **Media library:** `public/media-library/`
